{"componentChunkName":"component---src-templates-blog-post-js","path":"/notes-for-git-with-ssh-failed/","result":{"data":{"site":{"siteMetadata":{"title":"beaclnd92's Blog","author":{"name":"beaclnd92","summary":"who keeps learning and thinking"}}},"markdownRemark":{"id":"60d75e50-758f-5aee-b66a-a4784a0eaa39","excerpt":"连接超时 由于某些原因会导致无法通过ssh协议访问远程服务，当基于ssh协议访问远端代码库时会出现连接ssh 22端口超时的问题，此时咱可以修改ssh配置通过https端口来建立ssh连接 如添加及修改配置文件~/.ssh/config：  无访问权限 虽然能与远程服务成功建立ssh…","html":"<h3>连接超时</h3>\n<p>由于某些原因会导致无法通过ssh协议访问远程服务，当基于ssh协议访问远端代码库时会出现连接ssh 22端口超时的问题，此时咱可以修改ssh配置通过https端口来建立ssh连接</p>\n<p>如添加及修改配置文件~/.ssh/config： </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Host github.com \n    Hostname ssh.github.com\n    Port 443</code></pre></div>\n<h3>无访问权限</h3>\n<p>虽然能与远程服务成功建立ssh连接，但仍会出现访问远程代码库被拒绝的问题，如出现错误：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: Permission denied (publickey)</code></pre></div>\n<p>此时，需要确保在本地生成正确的非对称密钥，并复制其中的公钥配置到远程服务端。</p>\n<p>首先生成某种算法的非对称密钥，配置正确的comment，如：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ssh-keygen -t ed25519 -C <span class=\"token string\">\"myname@github.com\"</span></code></pre></div>\n<p>然后在本地添加该非对称密钥，如：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>ssh-agent -s<span class=\"token variable\">)</span></span>\"</span>\nssh-add ~/.ssh/id_ed25519_github</code></pre></div>\n<p>然后将该非对称密钥中的公钥信息复制配置到远程服务端</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cat ~/.ssh/id_ed25519_github.pub</code></pre></div>\n<p>接着在ssh配置文件中指定使用的私钥，如修改配置文件~/.ssh/config：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Host github.com \n    Hostname ssh.github.com\n    Port <span class=\"token number\">443</span>\n    IdentityFile ~/.ssh/id_ed25519_github</code></pre></div>\n<h3>参考链接</h3>\n<ol>\n<li><a href=\"https://help.github.com/articles/using-ssh-over-the-https-port/\">https://help.github.com/articles/using-ssh-over-the-https-port/</a></li>\n<li><a href=\"https://docs.github.com/en/authentication/troubleshooting-ssh/error-permission-denied-publickey\">https://docs.github.com/en/authentication/troubleshooting-ssh/error-permission-denied-publickey</a></li>\n</ol>","frontmatter":{"title":"笔记： 踩坑——使用git经ssh协议向远程推送或拉取代码库时出错","date":"2022/05/17","description":"基于ssh协议使用git clone或git push命令时，可能出现连接ssh 22端口超时或无访问权限的错误","tags":["笔记","踩坑","git","ssh"]},"fields":{"readingTime":{"text":"1 min read"}}}},"pageContext":{"slug":"/notes-for-git-with-ssh-failed/","previous":{"fields":{"slug":"/notes-for-docker-usage/"},"frontmatter":{"title":"笔记： 踩坑——Docker使用错误及经验总结"}},"next":null}}}